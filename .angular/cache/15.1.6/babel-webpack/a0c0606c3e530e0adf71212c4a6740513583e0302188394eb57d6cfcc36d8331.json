{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../data.service\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"../spinner.service\";\nimport * as i5 from \"@angular/common\";\nfunction StoreComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"div\", 6);\n    i0.ɵɵelement(3, \"img\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 8)(5, \"div\", 9)(6, \"h3\", 10);\n    i0.ɵɵlistener(\"click\", function StoreComponent_div_3_Template_h3_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const book_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.prodinfo(book_r1._id));\n    });\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"h6\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"h5\");\n    i0.ɵɵelement(11, \"i\", 11);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 12)(14, \"i\", 13);\n    i0.ɵɵlistener(\"click\", function StoreComponent_div_3_Template_i_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const book_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.clickedCart(book_r1));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"i\", 14);\n    i0.ɵɵlistener(\"click\", function StoreComponent_div_3_Template_i_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const book_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.clickedWishlist(book_r1));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function StoreComponent_div_3_Template_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const book_r1 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.prodinfo(book_r1._id));\n    });\n    i0.ɵɵtext(17, \" INFO \");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const book_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"src\", book_r1.photo, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(book_r1.prod_name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"-\", book_r1.author, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", book_r1.prod_price, \" \");\n  }\n}\nexport class StoreComponent {\n  constructor(ar, ds, toastr, router, spinner) {\n    this.ar = ar;\n    this.ds = ds;\n    this.toastr = toastr;\n    this.router = router;\n    this.spinner = spinner;\n    this.booksUpdatedList = [];\n  }\n  prodinfo(bookId) {\n    this.router.navigateByUrl(`productinfo/${bookId}`);\n  }\n  clickedCart(affliate) {\n    let status = sessionStorage.getItem('username');\n    if (status) {\n      affliate.userAdded = status;\n      //  console.log(affliate)\n      this.ds.addtoCart(affliate).subscribe(res => {\n        if (res['message'] == 'product added to cart') {\n          this.toastr.success('product added successfully');\n        } else {\n          this.toastr.success('Product is  already exist in cart');\n        }\n      }, err => {});\n    } else {\n      alert('Please Register ');\n    }\n  }\n  // wishlist\n  clickedWishlist(affliate) {\n    let status = sessionStorage.getItem('username');\n    if (status) {\n      affliate.userAdded = status;\n      //  console.log(affliate)\n      this.ds.moveToWishlistFromStore(affliate).subscribe(res => {\n        // console.log(res['message']);\n        if (res['message'] == 'product added to wishlist') {\n          this.toastr.success('product added to WishList');\n        } else {\n          this.toastr.error('Product is  already exist in wishlist');\n        }\n      }, err => {});\n    } else {\n      alert('Please Login or Register ');\n    }\n  }\n  // wishlist end\n  ngOnInit() {\n    this.spinner.displayLoad(true);\n    this.ar.paramMap.subscribe(data => {\n      this.clickedCard = data['params'].id;\n      // this.spinner.displayLoad(false);\n    });\n\n    this.clickedCard = +this.clickedCard;\n    this.ds.getAllaffliateProductstoUsers().subscribe(res => {\n      this.affliatesAvailable = res['message'];\n      // console.log('checkpoint-1', this.affliatesAvailable);\n      // this.booksUpdatedList.length=this.affliatesAvailable.length;\n      for (let i = 0; i < this.affliatesAvailable.length; i++) {\n        if (this.affliatesAvailable[i].active) this.booksUpdatedList.push(this.affliatesAvailable[i]);\n      }\n      // console.log('checkpoint-2', this.booksUpdatedList);\n      this.booksUpdatedList = this.affliatesAvailable.filter(function (el) {\n        return el != null;\n      });\n      // console.log(\"last\",this.booksUpdatedList)\n      switch (this.clickedCard) {\n        case 1:\n          {\n            this.filteredBooks = this.affliatesAvailable.filter(affliate => {\n              return affliate.type == 'Mobiles & Electronics';\n            });\n            break;\n          }\n        case 2:\n          {\n            this.filteredBooks = this.booksUpdatedList.filter(affliate => {\n              return affliate.type == 'Home Appliances';\n            });\n            break;\n          }\n        case 3:\n          {\n            this.filteredBooks = this.booksUpdatedList.filter(affliate => {\n              return affliate.type == 'Beauty Products';\n            });\n            break;\n          }\n        case 4:\n          {\n            this.filteredBooks = this.booksUpdatedList.filter(affliate => {\n              return affliate.type == 'Clothes';\n            });\n            break;\n          }\n        case 5:\n          {\n            this.filteredBooks = this.booksUpdatedList.filter(affliate => {\n              return affliate.type == 'Tools';\n            });\n            break;\n          }\n        case 6:\n          {\n            this.filteredBooks = this.booksUpdatedList.filter(affliate => {\n              return affliate.type == 'Branded Items';\n            });\n            break;\n          }\n        case 7:\n          {\n            this.filteredBooks = this.booksUpdatedList.filter(affliate => {\n              return affliate.type == 'Laptop';\n            });\n            break;\n          }\n        case 8:\n          {\n            this.filteredBooks = this.booksUpdatedList.filter(affliate => {\n              return affliate.type == 'TVs';\n            });\n            break;\n          }\n        case 9:\n          {\n            this.filteredBooks = this.booksUpdatedList.filter(affliate => {\n              return affliate.type == 'Children';\n            });\n            break;\n          }\n        case 10:\n          {\n            this.filteredBooks = this.booksUpdatedList.filter(affliate => {\n              return affliate.type == 'Science';\n            });\n            break;\n          }\n        case 11:\n          {\n            this.filteredBooks = this.booksUpdatedList.filter(affliate => {\n              return affliate.type == 'Fiction';\n            });\n            break;\n          }\n      }\n      this.spinner.displayLoad(false);\n    }, err => {});\n  }\n}\nStoreComponent.ɵfac = function StoreComponent_Factory(t) {\n  return new (t || StoreComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.DataService), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i4.SpinnerService));\n};\nStoreComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: StoreComponent,\n  selectors: [[\"app-store\"]],\n  decls: 4,\n  vars: 1,\n  consts: [[1, \"containerCss\", \"mb-5\"], [\"routerLink\", \"/home\", 1, \"fas\", \"fa-chevron-circle-left\"], [1, \"row\", \"row-cols-1\", \"row-cols-md-4\"], [\"class\", \"flip-card mt-5\", \"style\", \"width: 280px; height: 300px\", 4, \"ngFor\", \"ngForOf\"], [1, \"flip-card\", \"mt-5\", 2, \"width\", \"280px\", \"height\", \"300px\"], [1, \"flip-card-inner\"], [1, \"flip-card-front\"], [\"alt\", \"Avatar\", 1, \"responsive\", 2, \"width\", \"auto\", \"height\", \"300px\", 3, \"src\"], [1, \"flip-card-back\", \"w-100\", \"align-items-center\"], [1, \"card\", \"border\", \"border-warning\", \"bg-secondary\", \"p\", \"p-5\"], [1, \"navigate-to-Product\", 3, \"click\"], [1, \"fa\", \"fa-rupee-sign\"], [1, \"card-footer\", \"bg-white\", \"mt-3\", \"p-2\"], [1, \"h3\", \"text-success\", \"fa\", \"fa-shopping-cart\", \"me-3\", 3, \"click\"], [1, \"ms-3\", \"text-danger\", \"h3\", \"fa\", \"fa-heart\", 3, \"click\"], [1, \"btn\", \"btn-success\", 3, \"click\"]],\n  template: function StoreComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"i\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵtemplate(3, StoreComponent_div_3_Template, 18, 4, \"div\", 3);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.filteredBooks);\n    }\n  },\n  dependencies: [i5.NgForOf, i1.RouterLink],\n  styles: [\".flip-card[_ngcontent-%COMP%]{background-color:transparent;width:300px;height:300px;perspective:500px;cursor:pointer;margin:0 auto 40px;float:none}.fa-chevron-circle-left[_ngcontent-%COMP%]{cursor:pointer;font-size:45px}.fa-chevron-circle-left[_ngcontent-%COMP%]:hover{color:#049ad1}.flip-card-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;text-align:center;transition:transform .7s;transform-style:preserve-3d;box-shadow:0 4px 8px #0003}.flip-card[_ngcontent-%COMP%]:hover   .flip-card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.flip-card-front[_ngcontent-%COMP%], .flip-card-back[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;-webkit-backface-visibility:hidden;backface-visibility:hidden}.flip-card-front[_ngcontent-%COMP%]{background-color:#8edbf7;color:#000}.flip-card-back[_ngcontent-%COMP%]{color:#fff;transform:rotateY(180deg)}.containerCss[_ngcontent-%COMP%]{margin-left:5%;margin-right:5%}.button-action[_ngcontent-%COMP%]{color:#fff;font-weight:bolder;border:none;box-shadow:0 0 3px 1px #21e1fa;background-color:#00008b}.fa[_ngcontent-%COMP%]{color:#fff;font-weight:bolder}.button-action[_ngcontent-%COMP%]:hover{background-color:#0aabe6}.fa[_ngcontent-%COMP%]:hover{font-size:25px}.navigate-to-Product[_ngcontent-%COMP%]:hover{text-decoration:underline;text-decoration-color:#049ad1}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}