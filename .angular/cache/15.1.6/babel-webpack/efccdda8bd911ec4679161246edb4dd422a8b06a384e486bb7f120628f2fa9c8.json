{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../data.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"../spinner.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nfunction LoginComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵelement(1, \"input\", 17);\n    i0.ɵɵelementStart(2, \"label\", 18);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const list_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"value\", list_r1);\n    i0.ɵɵproperty(\"id\", list_r1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", list_r1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", list_r1, \"\");\n  }\n}\nexport class LoginComponent {\n  constructor(us, router, toastr, spinner) {\n    this.us = us;\n    this.router = router;\n    this.toastr = toastr;\n    this.spinner = spinner;\n    this.lists = ['User', 'Admin'];\n    this.loginCheck = false;\n    this.isFormSubmitted = false;\n    this.toastMessage = ' ';\n    this.loginStatus = sessionStorage.getItem('username') ? true : false;\n  }\n  ngOnInit() {\n    this.form = new FormGroup({\n      username: new FormControl('', [Validators.required, Validators.minLength(3)]),\n      password: new FormControl('', [Validators.required, Validators.minLength(3)]),\n      User: new FormControl(false)\n      //  Admin:new FormControl(false),\n    });\n  }\n\n  loginData() {\n    this.loginObj = this.form.value;\n    if (this.loginObj.User == null) {\n      this.toastr.error('Please select Type of Login');\n    } else {\n      if (this.loginObj.User == 'User') {\n        this.userLogin();\n      }\n      if (this.loginObj.User == 'Admin') {\n        this.adminLogin();\n      }\n    }\n  }\n  userLogin() {\n    // this.spinner.displayLoad(true);\n    this.subscription = this.us.loginUser(this.loginObj).subscribe(res => {\n      if (res['message'] == 'success') {\n        this.toastr.success(\"Successfull logged In!'\");\n        sessionStorage.setItem('token', res['token']);\n        this.loginStatus = true;\n        sessionStorage.setItem('username', res['userObj']);\n        sessionStorage.setItem('Usertype', this.loginObj.User);\n        this.loginCheck = true;\n        this.us.sendloginState(this.loginStatus);\n        this.router.navigateByUrl(`/useraccount/${this.loginObj.username}`);\n      }\n      if (res['message'] == 'Invalid username') {\n        this.toastr.error('Username is not valid Please Register');\n      }\n      if (res['message'] == 'Invalid Password') {\n        this.toastr.error('Incorrect  Password');\n      }\n    }, err => {\n      this.spinner.displayLoad(false);\n      this.toastr.error('Maintainance issue');\n    });\n  }\n  adminLogin() {\n    this.us.loginAdmin(this.loginObj).subscribe(res => {\n      if (res['message'] == 'success') {\n        this.toastr.success('Login Success');\n        sessionStorage.setItem(\"isAdminVerified\", res.verifiedStatus);\n        sessionStorage.setItem('token', res['token']);\n        sessionStorage.setItem('username', res['adminObj']);\n        sessionStorage.setItem('Usertype', this.loginObj.User);\n        sessionStorage.setItem('admin_email', res['email']);\n        this.loginStatus = true;\n        this.us.sendloginState(this.loginStatus);\n        this.router.navigateByUrl(`/adminaccount/${this.loginObj.username}`);\n      }\n      if (res['message'] == 'Invalid username') {\n        this.toastr.error('Username is not valid Please Register');\n      }\n      if (res['message'] == 'Invalid Password') {\n        this.toastr.error('Incorrect  Password');\n      }\n    }, err => {});\n  }\n  redirectRegister() {\n    this.router.navigateByUrl('/register');\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.DataService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.SpinnerService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 27,\n  vars: 2,\n  consts: [[1, \"con\"], [1, \"login-h1-quote\"], [3, \"formGroup\"], [1, \"card\"], [1, \"content\"], [\"class\", \"form-check d-block \", 4, \"ngFor\", \"ngForOf\"], [1, \"user\"], [\"type\", \"text\", \"placeholder\", \"Username\", \"name\", \"username\", \"formControlName\", \"username\"], [1, \"pass\"], [\"type\", \"password\", \"placeholder\", \"Password\", \"name\", \"password\", \"formControlName\", \"password\"], [1, \"else\"], [\"id\", \"remember\", \"type\", \"checkbox\"], [\"for\", \"remember\"], [\"routerLink\", \"\", 1, \"ms-5\", 3, \"click\"], [\"type\", \"submit\", \"value\", \"LOGIN\", 1, \"button\", \"button1\", \"showtoast\", 3, \"click\"], [1, \"login-div-patch\"], [1, \"form-check\", \"d-block\"], [\"type\", \"radio\", \"name\", \"User\", \"formControlName\", \"User\", 1, \"me-3\", 3, \"id\", \"value\"], [3, \"for\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"section\")(2, \"h1\", 1);\n      i0.ɵɵtext(3, \"Welcome \");\n      i0.ɵɵelement(4, \"br\");\n      i0.ɵɵtext(5, \" to Magic World\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"form\", 2)(7, \"div\", 3)(8, \"div\", 4)(9, \"h2\");\n      i0.ɵɵtext(10, \"Get Started!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(11, LoginComponent_div_11_Template, 4, 4, \"div\", 5);\n      i0.ɵɵelementStart(12, \"div\", 6);\n      i0.ɵɵelement(13, \"input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 8);\n      i0.ɵɵelement(15, \"input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 10);\n      i0.ɵɵelement(17, \"input\", 11);\n      i0.ɵɵelementStart(18, \"label\", 12);\n      i0.ɵɵtext(19, \"Remember me\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"span\");\n      i0.ɵɵtext(21, \"Forgot password?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(22, \"br\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"a\", 13);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_a_click_23_listener() {\n        return ctx.redirectRegister();\n      });\n      i0.ɵɵtext(24, \"New User!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"input\", 14);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_input_click_25_listener() {\n        return ctx.loginData();\n      });\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelement(26, \"div\", 15);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.lists);\n    }\n  },\n  dependencies: [i5.NgForOf, i2.RouterLink, i6.ɵNgNoValidate, i6.DefaultValueAccessor, i6.RadioControlValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.FormGroupDirective, i6.FormControlName],\n  styles: [\"@import\\\"https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap\\\";@import\\\"https://fonts.googleapis.com/css2?family=Montserrat+Subrayada:wght@700&display=swap\\\";.con[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Fredoka One,cursive;color:#149ad1;justify-content:center}.login-h1-quote[_ngcontent-%COMP%]{position:absolute;color:#000;font-size:52px;top:40%;left:20%;text-align:center;color:#fff;font-family:Fredoka One,cursive}[_ngcontent-%COMP%]::selection{background:#149ad1;color:#fff}section[_ngcontent-%COMP%]{height:500px;width:100%;background-color:#149ad1;position:relative;animation:_ngcontent-%COMP%_left .75s ease-out}section[_ngcontent-%COMP%]:after{background-color:#149ad1;width:100%;height:175px;position:absolute;content:\\\" \\\";bottom:-75px;transform:skewY(3.5deg)}.card[_ngcontent-%COMP%]{background-color:#fff;position:absolute;top:19%;z-index:100;border-radius:40px;box-shadow:5px 5px 20px #00000040,inset -5px -5px 20px #00000040,inset 5px 5px 20px #ffffff40;animation:_ngcontent-%COMP%_right .75s ease-in}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:2em;align-items:flex-center;height:100%;justify-items:space-between}.pass[_ngcontent-%COMP%], .user[_ngcontent-%COMP%]{position:relative}.content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:20px;transform:translateY(-50%);color:#149ad1;font-size:1.125rem}input[type=password][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{margin:.75em 0;width:100%;border-radius:100px;border:none;padding:.8em 1.5em .8em 2.75em;color:#149ad1;box-shadow:1px 3px 10px #00000020,inset -1px -3px 10px #00000020,inset 1px 3px 10px #ffffff20}input[type=password][_ngcontent-%COMP%]::placeholder, input[type=text][_ngcontent-%COMP%]::placeholder{color:#0e4c6690;font-size:1rem;margin-left:1em}input[type=password][_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus{outline:0}h2[_ngcontent-%COMP%]{margin:1.5em;font-size:2rem;text-align:center}.else[_ngcontent-%COMP%]{display:flex;align-items:center;width:85%;margin:.5em auto}.else[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:auto}.else[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .else[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;text-align:right;opacity:.65;cursor:pointer;transition:.25s}.else[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:.5em}label[_ngcontent-%COMP%]:hover, span[_ngcontent-%COMP%]:hover{opacity:100%;text-decoration:underline}label[_ngcontent-%COMP%]:active, span[_ngcontent-%COMP%]:active{transform:scale(.99)}input[type=submit][_ngcontent-%COMP%]{background-color:#149ad1;border:none;color:#fff;padding:1.1em 2.5em;border-radius:100px;margin:1.2em auto;cursor:pointer;box-shadow:2px 3px 10px #00000040,inset -2px -3px 10px #00000059,inset 2px 3px 10px #ffffff80;letter-spacing:1.25px;font-weight:bolder;letter-spacing:5px}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;box-shadow:inset -2px -3px 10px #00000059;background:#0479ac}input[type=submit][_ngcontent-%COMP%]:active{box-shadow:2px 3px 10px #00000040,inset -2px -3px 10px #ffffff59,inset 2px 3px 10px #00000040}input[type=submit][_ngcontent-%COMP%]:focus{outline:0}.h[_ngcontent-%COMP%]{font-size:100px}section[_ngcontent-%COMP%]:before{background-color:#fff;width:100%;height:250px;position:absolute;content:\\\" \\\";top:-100px;transform:skewY(-3.5deg)}.fa-instagram[_ngcontent-%COMP%]{position:absolute;color:#149ad1;bottom:20%;left:20%;font-size:1.5rem;transition:.3s}.toast[_ngcontent-%COMP%]{font-size:22px;padding:5px;background-color:#149ad1;position:relative;margin:50px 0 0 55%}.instagram[_ngcontent-%COMP%]:hover   .fa-instagram[_ngcontent-%COMP%]{color:#149ad1}@keyframes _ngcontent-%COMP%_right{0%{transform:translate(700%)}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_left{0%{transform:translate(-100%)}to{transform:translate(0)}}@media only screen and (min-width: 1400px){.card[_ngcontent-%COMP%]{width:400px;height:550px;right:25%}.login-div-patch[_ngcontent-%COMP%]{width:100%;height:200px}section[_ngcontent-%COMP%]{height:60vh}.login-h1-quote[_ngcontent-%COMP%]{font-size:52px;top:40%;left:19.5%}input[type=password][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{font-size:1.2rem}}@media only screen and (max-width: 1399px){.card[_ngcontent-%COMP%]{width:400px;height:550px;right:20%}.login-h1-quote[_ngcontent-%COMP%]{font-size:42px;top:45%;left:12%}.login-div-patch[_ngcontent-%COMP%]{width:100%;height:300px}input[type=password][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{font-size:1.12rem}section[_ngcontent-%COMP%]{height:45vh}h2[_ngcontent-%COMP%]{margin:1.5em;font-size:2rem}}@media only screen and (max-width: 900px){.card[_ngcontent-%COMP%]{width:400px;height:550px;right:20%}.login-h1-quote[_ngcontent-%COMP%]{display:none}.login-div-patch[_ngcontent-%COMP%]{width:100%;height:300px}input[type=password][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{font-size:1.12rem}section[_ngcontent-%COMP%]{height:45vh}h2[_ngcontent-%COMP%]{margin:1.5em;font-size:2rem}}@media only screen and (max-width: 600px){.card[_ngcontent-%COMP%]{width:350px;height:470px;right:15%}input[type=password][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{font-size:1rem}.login-h1-quote[_ngcontent-%COMP%]{display:none}section[_ngcontent-%COMP%]{height:35vh}h2[_ngcontent-%COMP%]{margin:1.5em;font-size:1.7rem}}@media only screen and (max-width: 400px){.card[_ngcontent-%COMP%]{width:300px;height:500px;right:20%;left:10%}input[type=password][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{font-size:.8rem}section[_ngcontent-%COMP%]{height:30vh}h2[_ngcontent-%COMP%]{margin:1.5em;font-size:1.5rem}}@media only screen and (max-width: 350px){.card[_ngcontent-%COMP%]{width:270px;height:450px;right:20%;left:10%}input[type=password][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{font-size:.8rem}section[_ngcontent-%COMP%]{height:30vh}h2[_ngcontent-%COMP%]{margin:1.5em;font-size:1.5rem}}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}