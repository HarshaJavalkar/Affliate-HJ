{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../data.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"ngx-toastr\";\nimport * as i5 from \"@angular/common\";\nfunction ModalComponent_div_16_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtext(1, \" Verification code is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ModalComponent_div_16_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtext(1, \" Verification code must be 6 digit long \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ModalComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtemplate(1, ModalComponent_div_16_div_1_Template, 2, 0, \"div\", 15);\n    i0.ɵɵtemplate(2, ModalComponent_div_16_div_2_Template, 2, 0, \"div\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.formReturn.code.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.formReturn.code.errors.pattern);\n  }\n}\n// import { bootstrap } from 'bootstrap';\nexport class ModalComponent {\n  constructor(elementRef, formBuilder, Data, router, toastr) {\n    this.elementRef = elementRef;\n    this.formBuilder = formBuilder;\n    this.Data = Data;\n    this.router = router;\n    this.toastr = toastr;\n  }\n  ngOnInit() {\n    document.getElementById('trig-button').click();\n    this.form = this.formBuilder.group({\n      code: ['', [Validators.required, Validators.pattern('.{6,6}')]]\n    });\n  }\n  checkLength(event) {\n    if (this.form.value.code >= 999999) {\n      console.log(12);\n    }\n  }\n  get formReturn() {\n    return this.form.controls;\n  }\n  onSubmit() {\n    let email = {\n      email: sessionStorage.getItem('admin_email'),\n      code: this.form.value.code\n    };\n    this.Data.verifyRequestAdmin(email).subscribe(data => {\n      console.log(data);\n      if (data.status == 200 && data.message == 'verified') {\n        this.toastr.success('Profile verified successfully');\n        this.router.navigateByUrl(`/adminaccount/${sessionStorage.getItem('username')}`);\n      } else {\n        document.getElementById('trig-button').click();\n        this.toastr.error('Email not found');\n      }\n    });\n  }\n}\nModalComponent.ɵfac = function ModalComponent_Factory(t) {\n  return new (t || ModalComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.DataService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.ToastrService));\n};\nModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ModalComponent,\n  selectors: [[\"app-modal\"]],\n  decls: 20,\n  vars: 3,\n  consts: [[1, \"backImg\"], [\"type\", \"\", \"tabindex\", \"-1\", \"data-bs-toggle\", \"modal\", \"id\", \"trig-button\", \"data-bs-target\", \"#modal-id\", 1, \"btn\"], [\"id\", \"modal-id\", \"tabindex\", \"-1\", \"data-bs-backdrop\", \"static\", \"data-bs-keyboard\", \"false\", \"aria-labelledby\", \"modal-idLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"modal-idLabel\", 1, \"modal-title\"], [1, \"modal-body\"], [3, \"formGroup\"], [\"for\", \"code-id\"], [\"type\", \"number\", \"minlength\", \"6\", \"maxlength\", \"6\", \"id\", \"code-id\", \"oninput\", \"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);\", \"formControlName\", \"code\", \"name\", \"code\", 1, \"form-control\", \"m-2\", \"rounded\"], [\"class\", \"fw-bold input-valid\", 4, \"ngIf\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [1, \"fw-bold\", \"input-valid\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [1, \"text-danger\"]],\n  template: function ModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"div\", 0)(1, \"button\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"h5\", 6);\n      i0.ɵɵtext(7, \"Modal title\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 7)(9, \"b\");\n      i0.ɵɵtext(10, \" Please enter verification code sent to application developer \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"br\");\n      i0.ɵɵelementStart(12, \"form\", 8)(13, \"label\", 9);\n      i0.ɵɵtext(14, \"Enter 6 digit code\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(15, \"input\", 10);\n      i0.ɵɵtemplate(16, ModalComponent_div_16_Template, 3, 2, \"div\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"div\", 12)(18, \"button\", 13);\n      i0.ɵɵlistener(\"click\", function ModalComponent_Template_button_click_18_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵtext(19, \"Verify\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.formReturn.code.touched && !ctx.formReturn.code.valid);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", !ctx.formReturn.code.valid);\n    }\n  },\n  dependencies: [i5.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.MinLengthValidator, i1.MaxLengthValidator, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\".backImg[_ngcontent-%COMP%]{background-image:url(https://img.freepik.com/free-vector/tiny-people-standing-near-prohibited-gesture-isolated-flat-illustration_74855-11132.jpg?t=st=1655130978~exp=1655131578~hmac=db7be16888f387c05b135563c75971056201cff9a4130ab1ee21d2edc424251b&w=1380);width:100%;height:900px}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}