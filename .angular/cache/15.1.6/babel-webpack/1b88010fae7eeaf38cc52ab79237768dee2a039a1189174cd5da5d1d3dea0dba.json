{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../data.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction UpdateComponent_tr_17_i_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"i\", 30);\n    i0.ɵɵlistener(\"click\", function UpdateComponent_tr_17_i_13_Template_i_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const i_r3 = i0.ɵɵnextContext().index;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.identifyProducId(i_r3));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UpdateComponent_tr_17_i_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"i\", 31);\n    i0.ɵɵlistener(\"click\", function UpdateComponent_tr_17_i_16_Template_i_click_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const data_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.deleteProduct(data_r2.prod_id));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UpdateComponent_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 22);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 23);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 24);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 25);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵelement(10, \"img\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"tr\");\n    i0.ɵɵtemplate(13, UpdateComponent_tr_17_i_13_Template, 1, 0, \"i\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"br\");\n    i0.ɵɵelementStart(15, \"div\");\n    i0.ɵɵtemplate(16, UpdateComponent_tr_17_i_16_Template, 1, 0, \"i\", 28);\n    i0.ɵɵelementStart(17, \"p\", 29);\n    i0.ɵɵtext(18, \"Delete \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const data_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵattribute(\"data-index\", i_r3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r2.prod_name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r2.prod_desc);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r2.prod_price);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r2.prod_lang);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", data_r2.photo, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.editIcon);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.editIcon);\n  }\n}\nexport class UpdateComponent {\n  constructor(ds, router, toastr) {\n    this.ds = ds;\n    this.router = router;\n    this.toastr = toastr;\n    this.dataFromServer = [];\n    this.inputName = '';\n    this.save = false;\n    this.editIcon = !this.save;\n    this.localUser = {\n      username: ''\n    };\n    this.delUser = {\n      prodIdDel: ''\n    };\n    this.localUser.username = sessionStorage.getItem('username');\n    //  console.log(\"bloody\",this.localUser)\n    this.ds.getProducts(this.localUser).subscribe(res => {\n      this.dataFromServer = res['message'];\n    }, err => {\n      console.log(err);\n    });\n  }\n  ngOnInit() {}\n  identifyProducId(index) {\n    this.indexClicked = index;\n  }\n  deleteProduct(index) {\n    console.log(index);\n    this.delUser.prodIdDel = index;\n    this.ds.deleteAdminProducts(this.delUser).subscribe(res => {\n      console.log(res['message']);\n    }, err => {\n      console.log('error at delete ', err);\n    });\n  }\n  saveData(data) {\n    // document.querySelectorAll(\".name\")[index].innerHTML=document.querySelectorAll('.ch_name')[index].value\n    let adminReqData = data.value;\n    adminReqData.prod_id = this.dataFromServer[this.indexClicked].prod_id;\n    console.log(adminReqData);\n    this.ds.updateAdminProducts(adminReqData).subscribe(res => {\n      this.toastr.success(res['message']);\n    }, err => {});\n  }\n}\nUpdateComponent.ɵfac = function UpdateComponent_Factory(t) {\n  return new (t || UpdateComponent)(i0.ɵɵdirectiveInject(i1.DataService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ToastrService));\n};\nUpdateComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UpdateComponent,\n  selectors: [[\"app-update\"]],\n  decls: 45,\n  vars: 1,\n  consts: [[2, \"overflow-x\", \"auto\"], [1, \"table\", \"table-responsive-sm\", \"table-bordered\"], [4, \"ngFor\", \"ngForOf\"], [\"id\", \"editmodal\", \"tabindex\", \"-1\", \"aria-labelledby\", \"editmodalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-dialog-centered\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"editmodalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [3, \"ngSubmit\"], [\"formRef\", \"ngForm\"], [1, \"modal-body\"], [1, \"mb-3\"], [\"for\", \"prod_name\", 1, \"col-form-label\"], [\"type\", \"text\", \"id\", \"prod_name\", \"name\", \"prod_name\", \"ngModel\", \"\", 1, \"form-control\"], [\"for\", \"prod_desc\", 1, \"col-form-label\"], [\"id\", \"prod_desc\", \"name\", \"prod_desc\", \"ngModel\", \"\", 1, \"form-control\"], [\"for\", \"prod_price\", 1, \"col-form-label\"], [\"type\", \"number\", \"id\", \"prod_price\", \"name\", \"prod_price\", \"ngModel\", \"\", 1, \"form-control\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-danger\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [1, \"name\"], [1, \"desc\"], [1, \"price\"], [1, \"language\"], [\"alt\", \"\", 1, \"photo\", 2, \"width\", \"15%\", \"cursor\", \"pointer\", 3, \"src\"], [\"class\", \"far fa-edit\", \"data-bs-whatever\", \"@getbootstrap\", \"data-bs-target\", \"#editmodal\", \"data-bs-toggle\", \"modal\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"fas fa-trash-alt\", 3, \"click\", 4, \"ngIfToolHover\", \"ngIf\"], [1, \"text-danger\", \"tooltip\"], [\"data-bs-whatever\", \"@getbootstrap\", \"data-bs-target\", \"#editmodal\", \"data-bs-toggle\", \"modal\", 1, \"far\", \"fa-edit\", 3, \"click\"], [1, \"fas\", \"fa-trash-alt\", 3, \"click\"]],\n  template: function UpdateComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r12 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"table\", 1)(2, \"thead\")(3, \"tr\")(4, \"th\");\n      i0.ɵɵtext(5, \"Product Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"th\");\n      i0.ɵɵtext(7, \"Product Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"th\");\n      i0.ɵɵtext(9, \"Price in Rs\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\");\n      i0.ɵɵtext(11, \"Language\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\");\n      i0.ɵɵtext(13, \"Photo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"Edit/save\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(16, \"tbody\");\n      i0.ɵɵtemplate(17, UpdateComponent_tr_17_Template, 19, 8, \"tr\", 2);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(18, \"div\", 3)(19, \"div\", 4)(20, \"div\", 5)(21, \"div\", 6)(22, \"h5\", 7);\n      i0.ɵɵtext(23, \"Edit content\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(24, \"button\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"form\", 9, 10);\n      i0.ɵɵlistener(\"ngSubmit\", function UpdateComponent_Template_form_ngSubmit_25_listener() {\n        i0.ɵɵrestoreView(_r12);\n        const _r1 = i0.ɵɵreference(26);\n        return i0.ɵɵresetView(ctx.saveData(_r1));\n      });\n      i0.ɵɵelementStart(27, \"div\", 11)(28, \"div\", 12)(29, \"label\", 13);\n      i0.ɵɵtext(30, \"Product Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(31, \"input\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"div\", 12)(33, \"label\", 15);\n      i0.ɵɵtext(34, \"Product Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(35, \"textarea\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"div\", 12)(37, \"label\", 17);\n      i0.ɵɵtext(38, \"Product Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(39, \"input\", 18);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(40, \"div\", 19)(41, \"button\", 20);\n      i0.ɵɵtext(42, \" Close \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"button\", 21);\n      i0.ɵɵtext(44, \"Save\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngForOf\", ctx.dataFromServer.slice().reverse());\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.NgModel, i5.NgForm],\n  styles: [\".fa-edit[_ngcontent-%COMP%], .fa-trash-alt[_ngcontent-%COMP%]{cursor:pointer;transition:.8s}td[_ngcontent-%COMP%]{vertical-align:middle;text-align:center}.fa-edit[_ngcontent-%COMP%]:hover, .fa-trash-alt[_ngcontent-%COMP%]:hover, .tooltip[_ngcontent-%COMP%]{visibility:visible;font-size:34px;color:#049ad1}.save[_ngcontent-%COMP%]{color:#00008b;cursor:pointer}.save[_ngcontent-%COMP%]:hover{text-decoration:underline;font-size:18px;cursor:pointer}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{margin:.75em 0;width:100%;border-radius:100px;border:none;padding:.8em 1.5em .8em 2.75em;color:#149ad1;box-shadow:1px 3px 10px #00000020,inset -1px -3px 10px #00000020,inset 1px 3px 10px #ffffff20}input[_ngcontent-%COMP%]::placeholder{color:#0e4c6690;font-size:1rem;margin-left:1em}input[_ngcontent-%COMP%]:focus{outline:0}.tooltip[_ngcontent-%COMP%]{visibility:hidden}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}