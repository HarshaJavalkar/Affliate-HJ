{"ast":null,"code":"import { StorageType } from 'angular-persistence';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../data.service\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"../spinner.service\";\nimport * as i5 from \"angular-persistence\";\nexport class ProductinfoComponent {\n  constructor(ar, ds, toastr, router, spinner, persistence) {\n    this.ar = ar;\n    this.ds = ds;\n    this.toastr = toastr;\n    this.router = router;\n    this.spinner = spinner;\n    this.persistence = persistence;\n    this.prodobj = {\n      id: Number\n    };\n  }\n  ngOnInit() {\n    this.clickedCard = this.persistence.get('CARD_CLICKED', StorageType.SESSION);\n    this.spinner.displayLoad(true);\n    this.ar.paramMap.subscribe(data => {\n      this.productid = data['params'].id;\n    });\n    this.prodobj.id = this.productid;\n    this.ds.getProductwithid(this.prodobj).subscribe(res => {\n      this.product = res['message'];\n      this.spinner.displayLoad(false);\n    }, err => {});\n  }\n  clickedCart(book) {\n    let status = sessionStorage.getItem('username');\n    this.spinner.displayLoad(true);\n    if (status) {\n      book.userAdded = status;\n      this.ds.addtoCart(book).subscribe(res => {\n        if (res['message'] == 'product added to cart') {\n          this.spinner.displayLoad(false);\n          this.toastr.success('product added successfully');\n        } else {\n          // this.toastr.warning(\"Product is  already exist in cart\")\n          this.spinner.displayLoad(false);\n          this.toastr.warning('Product is  already exist in cart');\n        }\n      }, err => {});\n    } else {\n      this.toastr.error('Please  Login ');\n      setTimeout(() => {\n        this.router.navigateByUrl('/login');\n      }, 1000);\n    }\n  }\n  buyNow(product) {\n    let URL = product.affliateLink;\n    window.open(URL, '_blank');\n    // this.router.navigateByUrl(product.affliateLink)\n  }\n\n  clickedWishlist(book) {\n    let status = sessionStorage.getItem('username');\n    this.spinner.displayLoad(true);\n    if (status) {\n      book.userAdded = status;\n      //  console.log(book)\n      this.ds.moveToWishlistFromStore(book).subscribe(res => {\n        // console.log(res['message']);\n        this.spinner.displayLoad(false);\n        if (res['message'] == 'product added to wishlist') {\n          this.toastr.success('product added to WishList');\n        } else {\n          this.toastr.warning('Product is  already exist in wishlist');\n        }\n      }, err => {});\n    } else {\n      this.toastr.warning('Please  Login ');\n      this.router.navigateByUrl('/login');\n    }\n  }\n}\nProductinfoComponent.ɵfac = function ProductinfoComponent_Factory(t) {\n  return new (t || ProductinfoComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.DataService), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i4.SpinnerService), i0.ɵɵdirectiveInject(i5.PersistenceService));\n};\nProductinfoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductinfoComponent,\n  selectors: [[\"app-productinfo\"]],\n  decls: 32,\n  vars: 7,\n  consts: [[1, \"container\", 2, \"border\", \"none\"], [1, \"fas\", \"h1\", \"fa-chevron-circle-left\", 2, \"cursor\", \"pointer\", 3, \"routerLink\"], [1, \"row\"], [1, \"col-sm-3\"], [1, \"thumbnail\", 2, \"padding\", \"30px\", \"border\", \"none\"], [\"width\", \"100%\", \"alt\", \"\", 1, \"responsive\", 3, \"src\"], [1, \"col-sm-9\", \"desc\", \"mt-5\"], [1, \"fa\", \"fa-rupee-sign\"], [1, \"col-sm\"], [1, \"row\", \"mb-5\", \"me-5\"], [1, \"btn1\", \"float-end\", 3, \"click\"], [1, \"fas\", \"fa-shopping-cart\"], [1, \"text-danger\", \"fa\", \"fa-heart\"]],\n  template: function ProductinfoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"i\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4);\n      i0.ɵɵelement(5, \"img\", 5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"div\", 6)(7, \"h4\")(8, \"b\");\n      i0.ɵɵtext(9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"h6\");\n      i0.ɵɵtext(11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"small\");\n      i0.ɵɵtext(13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\")(15, \"h3\");\n      i0.ɵɵelement(16, \"i\", 7);\n      i0.ɵɵtext(17);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(18, \"br\");\n      i0.ɵɵelementStart(19, \"div\", 2)(20, \"div\", 8)(21, \"h4\");\n      i0.ɵɵtext(22, \"About Book\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"h6\");\n      i0.ɵɵtext(24);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(25, \"div\", 9)(26, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function ProductinfoComponent_Template_button_click_26_listener() {\n        return ctx.buyNow(ctx.product);\n      });\n      i0.ɵɵelement(27, \"i\", 11);\n      i0.ɵɵtext(28, \"\\u00A0Buy now \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function ProductinfoComponent_Template_button_click_29_listener() {\n        return ctx.clickedWishlist(ctx.product);\n      });\n      i0.ɵɵelement(30, \"i\", 12);\n      i0.ɵɵtext(31, \"\\u00A0 Wishlist \");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/store/\", ctx.clickedCard, \"\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵpropertyInterpolate(\"src\", ctx.product == null ? null : ctx.product.photo, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.product == null ? null : ctx.product.prod_name);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Author: \", ctx.product == null ? null : ctx.product.author, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Category: \", ctx.product == null ? null : ctx.product.type, \"\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" \", ctx.product == null ? null : ctx.product.prod_price, \"\");\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\" \", ctx.product == null ? null : ctx.product.prod_desc, \"\");\n    }\n  },\n  dependencies: [i1.RouterLink],\n  styles: [\"section[_ngcontent-%COMP%]{position:relative;top:4.5em}.container-fluid[_ngcontent-%COMP%]{margin:1px}.btn1[_ngcontent-%COMP%]{margin:.75em 0;border-radius:100px;border:none;padding:.8em 1.5em .8em 2.75em;color:#149ad1;box-shadow:1px 3px 10px #00000020,inset -1px -3px 10px #00000020,inset 1px 3px 10px #ffffff20}.btn1[_ngcontent-%COMP%]::placeholder{color:#0e4c6690;font-size:1rem;margin-left:1em}.btn1[_ngcontent-%COMP%]:hover{color:#fff;background-color:#049ad1}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}