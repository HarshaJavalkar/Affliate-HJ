{"ast":null,"code":"import { errorHandler } from '../responseHandler/response';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../data.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../spinner.service\";\nimport * as i4 from \"angular-persistence\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"../corousel/corousel.component\";\nimport * as i8 from \"../categories/categories.component\";\nimport * as i9 from \"ng2-search-filter\";\nfunction HomeComponent_h6_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h6\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Search results for: \", ctx_r0.searchText, \" \");\n  }\n}\nfunction HomeComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"div\", 20)(2, \"img\", 21);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_11_Template_img_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const product_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.clickedProduct(product_r2._id));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(3, \"div\", 22)(4, \"h6\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const product_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", product_r2.photo, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r2.prod_name);\n  }\n}\nexport class HomeComponent {\n  clickedToast() {\n    this.toast = !this.toast;\n  }\n  navigatePremium() {\n    this.router.navigateByUrl('/premium');\n  }\n  onLoadPayment(event) {}\n  // initialize and show Bootstrap 4 toast\n  constructor(ds, router, spinner, persistenceService) {\n    // this.paymentRequest = {\n    //   apiVersion:2,\n    //   apiVersionMinor:0 ,\n    //   allowedPaymentMethods:[\n    this.ds = ds;\n    this.router = router;\n    this.spinner = spinner;\n    this.persistenceService = persistenceService;\n    this.booksAvailable = null;\n    this.toast = true;\n    this.booksUpdatedList = [];\n    //     {\n    //       type:'CARD',\n    //       parameters: {\n    //         allowedAuthMethods:['PAN_ONLY','CRYPTOGRAM_3DS'],\n    //         allowedCardNetworks:['MASTERCARD','VISA']\n    //       },\n    //       tokenizationSpecification:{\n    //         type:'PAYMENT_GATEWAY',\n    //         parameters:{\n    //           gateway:'example',\n    //           gatewayMerchantId:'exampleGatewayMerchantId',\n    //         },\n    //       },\n    //     }\n    //   ],\n    //   merchantInfo:{\n    //     merchantId:'176',\n    //     merchantName:'Demo only' \n    //   },\n    //   transactionInfo:{\n    //     totalPriceStatus:'FINAL',\n    //     totalPriceLabel:'Total',\n    //     totalPrice: '100',\n    //     currencyCode:'IND',\n    //     countryCode:'IND',\n    //   }\n    // }\n  }\n\n  clickedProduct(id) {\n    this.router.navigateByUrl(`productinfo/${id}`);\n  }\n  ngOnInit() {\n    this.username = sessionStorage.getItem('username');\n    // this.spinner.displayLoad(true);\n    this.ds.getAllaffliateProductstoUsers().subscribe(res => {\n      // this.spinner.displayLoad(false);\n      if (res['message'] == 'Session is Expired.. Please relogin to continue') {\n        sessionStorage.removeItem('token');\n        sessionStorage.removeItem('username');\n        sessionStorage.removeItem('Usertype');\n        this.router.navigateByUrl('/login');\n        alert('Session Expired Please relogin');\n      }\n      if (res['message'] == 'Unauthorized access') {\n        alert(res['message']);\n      } else {\n        this.booksAvailable = res['message'];\n        for (let i = 0; i < this.booksAvailable.length; i++) {\n          if (this.booksAvailable[i].active) this.booksUpdatedList.push(this.booksAvailable[i]);\n        }\n      }\n    }, err => {\n      this.persistenceService.set('ERRORS', errorHandler(err));\n      // this.spinner.displayLoad(false);\n      // this.router.navigateByUrl(`error`);\n    });\n  }\n}\n\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.DataService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.SpinnerService), i0.ɵɵdirectiveInject(i4.PersistenceService));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 24,\n  vars: 6,\n  consts: [[1, \"search\", 2, \"position\", \"relative\"], [1, \"search-box\"], [\"type\", \"text\", \"name\", \"\", \"placeholder\", \"Type to Search\", 1, \"search-txt\", 3, \"ngModel\", \"ngModelChange\"], [\"href\", \"#\", 1, \"search-btn\"], [1, \"fas\", \"fa-search\"], [1, \"container\", \"mt-0\", \"mb-5\"], [1, \"card\", \"border-0\", \"containerCss\", \"outer-container\", 2, \"margin-top\", \"150px\"], [1, \"rows\"], [\"class\", \"text-secondary\", 4, \"ngIf\"], [1, \"wrap\"], [\"class\", \"colu m-4\", 4, \"ngFor\", \"ngForOf\"], [\"data-aos\", \"fade-up\", \"data-aos-once\", \"true\", 1, \"card\", \"press-release\", \"containerCss\", \"zoom\", \"mt-5\", \"mb-5\"], [1, \"card-body\", \"text-center\", \"pt-4\", \"pd-5\"], [1, \"small\", \"mb-half\", \"pt-4\", \"title-card\"], [1, \"glass\"], [1, \"newspaper\"], [1, \"text-bold\", \"title-card\", \"pt-3\"], [\"type\", \"submit\", \"value\", \"LEARN MORE\", 1, \"mt-5\", \"mb-3\", \"btn\", 3, \"click\"], [1, \"text-secondary\"], [1, \"colu\", \"m-4\"], [1, \"card\"], [\"alt\", \"Card image cap\", 1, \"card-img-top\", 3, \"src\", \"click\"], [1, \"text-center\", \"p-3\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-corousel\");\n      i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1)(3, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_3_listener($event) {\n        return ctx.searchText = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"a\", 3);\n      i0.ɵɵelement(5, \"i\", 4);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(6, \"div\", 5);\n      i0.ɵɵelementStart(7, \"div\", 6)(8, \"div\", 7);\n      i0.ɵɵtemplate(9, HomeComponent_h6_9_Template, 2, 1, \"h6\", 8);\n      i0.ɵɵelementStart(10, \"div\", 9);\n      i0.ɵɵtemplate(11, HomeComponent_div_11_Template, 6, 2, \"div\", 10);\n      i0.ɵɵpipe(12, \"filter\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(13, \"div\", 11)(14, \"div\", 12)(15, \"div\", 13)(16, \"div\", 14);\n      i0.ɵɵelement(17, \"i\", 15);\n      i0.ɵɵelementStart(18, \"h4\");\n      i0.ɵɵtext(19, \"Get a Premium\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"h4\", 16);\n      i0.ɵɵtext(21, \"Explore the Book you need\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"input\", 17);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_input_click_22_listener() {\n        return ctx.navigatePremium();\n      });\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelement(23, \"app-categories\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.searchText);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.searchText);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(12, 3, ctx.booksUpdatedList, ctx.searchText));\n    }\n  },\n  dependencies: [i5.NgForOf, i5.NgIf, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgModel, i7.CorouselComponent, i8.CategoriesComponent, i9.Ng2SearchPipe],\n  styles: [\".app-div-corousel[_ngcontent-%COMP%]{background-color:#333;height:200px;position:fixed}.home-div-shadow[_ngcontent-%COMP%]{background:rgb(219,218,218);box-shadow:-5px -4px 3px #ffffff6c,5px 4px 3px #c9c9c9}.wrap[_ngcontent-%COMP%]{overflow:auto;white-space:nowrap}.colu[_ngcontent-%COMP%]{display:inline-block}.row[_ngcontent-%COMP%]{background:rgb(180,234,255)}.containerCss[_ngcontent-%COMP%]{margin-left:5%;margin-right:5%}.card[_ngcontent-%COMP%]{background-color:#b4eaff;border:none}.card[_ngcontent-%COMP%]:hover{cursor:pointer}.press-release[_ngcontent-%COMP%]{min-height:300px;height:50%;background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;background-image:url(image-1-corousel.jpg);color:#fff}.btn[_ngcontent-%COMP%]{text-align:center;border:none;padding:.5rem;margin-top:10px;margin-bottom:10px;font-weight:bolder;color:#fff;border-radius:20px;background-color:#049ad1}.search-box[_ngcontent-%COMP%]{position:absolute;top:85%;margin-top:-50px;left:50%;transform:translate(-50%,-50%);background:#2f3640;height:40px;border-radius:40px;padding:10px}.outer-container[_ngcontent-%COMP%]{margin-top:100px}.search-btn[_ngcontent-%COMP%]{color:#4097ff;float:right;width:40px;height:40px;border-radius:50%;background:#2f3640;display:flex;justify-content:center;align-items:center;text-decoration:none;transition:.4s}.search-txt[_ngcontent-%COMP%]{border:none;background:none;outline:none;float:left;padding:10px;color:#fff;font-size:16px;transition:.4s;line-height:10px;width:0px}.search-box[_ngcontent-%COMP%]:hover > .search-txt[_ngcontent-%COMP%]{width:240px;padding:0}.search-box[_ngcontent-%COMP%]:hover > .search-btn[_ngcontent-%COMP%]{background:white}.card-img-top[_ngcontent-%COMP%]{height:250px;width:200px;margin:auto}@media only screen and (min-width:1200px){.glass[_ngcontent-%COMP%]{background-color:#ffffff26;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);width:auto;margin-left:30%;margin-right:30%;border-radius:30px}}@media only screen and (max-width:1000px){.glass[_ngcontent-%COMP%]{background-color:#ffffff26;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);margin-left:20%;margin-right:20%;border-radius:30px}}@media only screen and (max-width:600px){.glass[_ngcontent-%COMP%]{background-color:#ffffff26;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);margin-left:15%;margin-right:15%;border-radius:30px}}@media only screen and (max-width:350px){.glass[_ngcontent-%COMP%]{background-color:#ffffff26;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);margin-left:5%;margin-right:5%;border-radius:30px}}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}